{"version":3,"sources":["components/error-indicator/error.png","components/shop-header/index.js","components/shop-header/shop-header.js","actions/index.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["module","exports","ShopHeader","connect","cartItems","shoppingCart","total","map","item","reduce","a","b","amount","count","className","to","href","bookAddedToCart","bookId","type","payload","fetchBooks","bookstoreService","dispatch","getBooks","then","data","catch","err","mapDispatchToProps","onIncrease","onDecrease","onDelete","ShoppingCartTable","items","idx","id","title","key","onClick","BookListItem","book","onAddedToCart","author","price","coverImage","src","alt","compose","funcs","comp","reduceRight","wrapped","f","Spinner","ErrorIndicator","icon","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","BookList","books","BookListContainer","this","loading","error","Component","bookList","HomePage","CartPage","App","role","numItems","path","component","exact","ErrorBoundry","state","hasError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","updateBookList","action","undefined","updateCartItems","slice","updateOrder","quantity","find","itemIndex","findIndex","newItem","updateCartItem","orderTotal","updateShoppingCart","reducer","store","createStore","applyMiddleware","console","log","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.d86fd989.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import ShopHeader from './shop-header';\nexport default ShopHeader;","import React from 'react';\nimport './shop-header.css';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nconst ShopHeader = ({ amount, total }) => {\n\treturn (\n\t\t<header className=\"shop-header row\">\n\t\t\t<Link to=\"/\">\n\t\t\t<div className=\"logo text-dark\" href=\"#\">ReStore</div>\n\t\t\t</Link>\n\t\t\t<Link to=\"/cart\">\n\t\t\t<div className=\"shopping-cart\">\n\t\t\t\t<i className=\"cart-icon fa fa-shopping-cart\" />\n\t\t\t\t{amount} items (${total})\n\t\t\t</div>\n\t\t\t</Link>\n\t\t</header>\n\t);\n}\nconst mapStateToProps = ({ shoppingCart: { cartItems }}) => {\n\treturn {\n\t  total: cartItems.map(item => item.total).reduce((a, b) => a + b, 0),\n\t  amount: cartItems.map(item => item.count).reduce((a, b) => a + b, 0)\n\t};\n  };\n\nexport default connect(mapStateToProps)(ShopHeader);","\nconst booksLoaded = (newBooks) => {\n\treturn {\n\t\ttype: 'FETCH_BOOKS_SUCCESS',\n\t\tpayload: newBooks\n\t};\n};\n\nconst booksRequested = () => 'FETCH_BOOKS_REQUEST';\n\nconst booksError = (error) => {\n\treturn {\n\t\ttype: 'FETCH_BOOKS_FAILURE',\n\t\tpayload: error\n\t};\n};\n\nconst bookAddedToCart = (bookId) => {\n\treturn {\n\t\ttype: 'BOOK_ADDED_TO_CART',\n\t\tpayload: bookId\n\t};\n};\n\nconst bookRemovedFromCart = (bookId) => {\n\treturn {\n\t\ttype: 'BOOK_REMOVED_FROM_CART',\n\t\tpayload: bookId\n\t};\n};\n\nconst allBooksRemovedFromCart = (bookId) => {\n\treturn {\n\t\ttype: 'ALL_BOOKS_REMOVED_FROM_CART',\n\t\tpayload: bookId\n\t};\n};\n\nconst fetchBooks = (bookstoreService, dispatch) => () => {\n\t\t\tdispatch(booksRequested());\n \t\t\tbookstoreService.getBooks()\n \t\t\t\t.then((data) => dispatch(booksLoaded(data)))\n \t\t\t\t.catch((err) => dispatch(booksError(err)));\n };\n\nexport {\n\tfetchBooks,\n\tbookAddedToCart,\n\tbookRemovedFromCart,\n\tallBooksRemovedFromCart\n};","import React from 'react';\nimport './shopping-cart-table.css';\nimport { connect } from 'react-redux';\nimport { bookAddedToCart,\n         bookRemovedFromCart, \n         allBooksRemovedFromCart } from '../../actions';\n\nconst ShoppingCartTable = ({ items, total, onIncrease, \n                            onDecrease, onDelete }) => {  \nlet sumOrder = items.map(item => item.total).reduce((a, b) => a + b, 0);\n\n  const renderRow = (item, idx) => {\n           const { id, title, count, total } = item;\n              return (\n             <tr key={id}>\n              <td>{idx + 1}</td>\n              <td>{title}</td>\n              <td>{count}</td>\n              <td>${total}</td>\n              <td>\n                <button \n                  onClick={() => onIncrease(id)}\n                  className=\"btn btn-outline-success btn-sm float-right\">\n                  <i className=\"fa fa-plus-circle\" />\n                </button>\n                <button \n                  onClick={() => onDecrease(id)}\n                  className=\"btn btn-outline-warning btn-sm float-right\">\n                  <i className=\"fa fa-minus-circle\" />\n                 </button>\n                 <button \n                   onClick={() => onDelete(id)}\n                  className=\"btn btn-outline-danger btn-sm float-right\">\n                  <i className=\"fa fa-trash-o\" />\n                </button>\n              </td>\n            </tr>\n   );\n  };\n\n\treturn (\n\t\t<div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <tbody>\n          { items.map(renderRow) } \n        </tbody>\n      </table>\n     <div className=\"total\">\n        Total: ${total}\n      </div>\n    </div>\n\t);\n};\n\nconst mapStateToProps = ({ shoppingCart: { cartItems }}) => {\n\n\n  return {\n    items: cartItems,\n    total: cartItems.map(item => item.total).reduce((a, b) => a + b, 0)\n  };\n};\n\nconst mapDispatchToProps = {\n    onIncrease: bookAddedToCart,\n    onDecrease: bookRemovedFromCart,\n    onDelete: allBooksRemovedFromCart\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);","import ShoppingCartTable from './shopping-cart-table';\nexport default ShoppingCartTable;","import BookListItem from './book-list-item';\nexport default BookListItem;","import React from 'react';\nimport  './book-list-item.css';\n\nconst BookListItem = ({ book, onAddedToCart }) => {\n\tconst { title, author, price, coverImage } = book;\n\treturn (\n\t\t<div className=\"book-list-item\">\n\t\t\t<div className=\"book-cover\">\n\t\t\t<img src={coverImage}  alt=\"cover\"/>\n\t\t\t</div>\n\t\t\t<div className=\"book-details\">\n\t\t\t<span className=\"book-title\">{title}</span>\n\t\t\t<div className=\"book-author\">{author}</div>\n\t\t\t<div className=\"book-price\">${price}</div>\n\t\t\t<button \n\t\t\tonClick={onAddedToCart}\n\t\t\tclassName=\"btn btn-info add-to-cart\">\n\t\t\tAdd to cart</ button>\n\t\t</div>\n\n\t\t</div>\n\t);\n};\n\nexport default BookListItem;","const compose = (...funcs) => (comp) => {\n\treturn funcs.reduceRight(\n\t\t(wrapped, f) => f(wrapped), comp);\n};\n\nexport default compose;","import Spinner from './spinner';\n\nexport default Spinner;","import React from 'react';\n\nimport './spinner.css';\n\nconst Spinner = () => {\n\n\treturn (\n\t\t<div className=\"lds-spinner\">\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t<div></div>\n\t\t</div>\n\t\t);\n}\n\nexport default Spinner;","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;","import React from 'react';\n\nimport './error-indicator.css';\nimport icon from './error.png';\n\nconst ErrorIndicator = () => {\n\n\treturn (\n\t\t<div className=\"error-indicator\">\n\t\t<img src={icon} alt=\"error\" />\n\t\t<span>\n\t\tsomething has gone terribly wrong\n\t\t</span>\n\t\t</div>\n\t\t);\n};\n\nexport default ErrorIndicator;","import React from 'react';\n\n\nconst {\n\tProvider: BookstoreServiceProvider,\n\tConsumer: BookstoreServiceConsumer\n} = React.createContext();\n\nexport {\n\tBookstoreServiceProvider,\n\tBookstoreServiceConsumer\n};","import React from 'react';\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\n\nconst withBookstoreService = () => (Wrapped) => {\n\treturn (props) => {\n\t\treturn (\n\t\t\t<BookstoreServiceConsumer>\n\t\t\t{\n\t\t\t\t(bookstoreService) => {\n\t\t\t\t\treturn (<Wrapped {...props}  \n\t\t\t\t\t\t\tbookstoreService={bookstoreService} />);\n\t\t\t\t}\n\t\t\t}\n\t\t\t</BookstoreServiceConsumer>\n\t\t);\n\t}\n};\n\nexport default withBookstoreService;","import React, { Component } from 'react';\nimport BookListItem from '../book-list-item';\nimport { connect } from 'react-redux';\n\nimport { fetchBooks, bookAddedToCart } from '../../actions';\nimport { compose } from '../../utils';\nimport Spinner from '../spinner';\nimport ErrorIndicator from '../error-indicator';\n\nimport { withBookstoreService } from '../hoc';\nimport './book-list.css';\n\nconst BookList = ({ books, onAddedToCart }) => {\n\t\treturn (\n\t\t\t<ul className=\"book-list\">\n\t\t\t{\n\t\t\t\tbooks.map((book) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t<li key={book.id}>\n\t\t\t\t\t\t<BookListItem \n\t\t\t\t\t\t\tonAddedToCart={() => onAddedToCart(book.id)}\n\t\t\t\t\t\t\tbook={book}/>\n\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t}\n\t\t\t</ul>\n\t\t);\n};\n\n class BookListContainer extends Component {\n\n \tcomponentDidMount() {\n \t\tthis.props.fetchBooks();\t\n \t}\n\n\trender () {\n\t\tconst { books, loading, error, onAddedToCart } = this.props;\n\n\t\tif (loading) {\n\t\t\treturn <Spinner />\n\t\t}\n\n\t\tif (error) {\n\t\t\treturn <ErrorIndicator />\n\t\t}\n\n\t\treturn <BookList \n\t\t\t\t\tonAddedToCart={onAddedToCart}\n\t\t\t\t\tbooks={books} />\n\t}\n};\n\nconst mapStateToProps = ({ bookList: { books, loading, error }}) => {\n\treturn {books, loading, error};\n};\n\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\n\treturn {\n\t\tfetchBooks: fetchBooks(bookstoreService, dispatch),\n\t\tonAddedToCart: (id) => dispatch(bookAddedToCart(id))\n\t};\n};\n\nexport default compose(\n\twithBookstoreService(),\n\tconnect(mapStateToProps, mapDispatchToProps)\n\t)(BookListContainer);\n\n","import BookList from './book-list';\nexport default BookList;","import React from 'react';\n\nimport ShoppingCartTable from '../shopping-cart-table';\nimport BookListContainer from '../book-list';\n\nconst HomePage = () => {\n\treturn (\n\t\t<div>\n\t\t\t<BookListContainer />\n\t\t\t<ShoppingCartTable />\n\t\t</div>\n\t);\n};\n\nexport default HomePage;","import React from 'react';\n\nimport ShoppingCartTable from './../shopping-cart-table';\n\nconst CartPage = () => {\n\treturn <ShoppingCartTable />;\n};\n\nexport default CartPage;","import App from './app';\n\nexport default App;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ShopHeader from '../shop-header';\nimport './app.css';\n\nimport { HomePage, CartPage } from '../pages';\n\nconst App = () => {\n\treturn (\n\t\t<main role=\"main\" className=\"container\">\n\t\t<ShopHeader numItems={5} total={210} />\n\t\t<Switch>\n\t\t<Route\n\t\t\t path=\"/\" \n\t\t\t component={HomePage}\n\t\t\t exact />\n\t\t<Route\n\t\t\tpath=\"/cart\"\n\t\t\tcomponent={CartPage} />\n\t\t</Switch>\n\t\t</main>\n\t);\n};\n\nexport default App;\n\n\n\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;","import React, { Component } from 'react';\n\nimport ErrorIndicator from '../error-indicator';\n\n\nexport default class ErrorBoundry extends Component {\n\n\tstate = {\n\t\thasError: false\n\t};\n\n\tcomponentDidCatch() {\n\n\tthis.setState({\n\t\thasError: true\n\t});\n}\n\n\trender() {\n\t\tif (this.state.hasError) {\n\t\t\treturn <ErrorIndicator />\n\t\t}\n\t\treturn this.props.children;\n\t}\n};\n\n","\nexport default class BookstoreService {\n\tdata = [\n\t\t\t{\n\t\t\t\tid:1, \n\t\t\t\ttitle: 'Production-Ready Microservices',\n\t\t\t\tauthor: 'Susan J. Fowler',\n\t\t\t\tprice: 32,\n\t\t\t\tcoverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'\n\t\t\t},\n\t\t\t{\n\t\t\t\tid:2, \n\t\t\t\ttitle: 'Release It!',\n\t\t\t\tauthor: 'Michael T. Nygard',\n\t\t\t\tprice: 45,\n\t\t\t\tcoverImage: 'https://images-na.ssl-images-amazon.com/images/I/41nMZPJdhsL._SX415_BO1,204,203,200_.jpg'\n\t\t\t}\n\t\t\t];\n\n\tgetBooks() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tresolve(this.data);\n\t\t\t}, 700);\n\t\t});\n\t}\n}","const updateBookList = (state, action) => {\n\n\tif (state === undefined) {\n\t\treturn {\n\t\t\tbooks: [],\n\t\t\tloading: true,\n\t\t\terror: null\n\t\t};\n\t}\n\n\tswitch (action.type) {\n\t\tcase 'FETCH_BOOKS_REQUEST':\n\t\t\treturn {\n\t\t\t\tbooks: [],\n\t\t\t\tloading: true,\n\t\t\t\terror: null\n\t\t\t};\n\t\tcase 'FETCH_BOOKS_SUCCESS':\n\t\t\treturn {\n\t\t\t\tbooks: action.payload,\n\t\t\t\tloading: false,\n\t\t\t\terror: null\n\t\t\t};\n\t\tcase 'FETCH_BOOKS_FAILURE':\n\t\t\treturn {\n\t\t\t\tbooks: [],\n\t\t\t\tloading: false,\n\t\t\t\terror: action.payload\n\t\t}\n\t\tdefault:\n\t\t\treturn state.bookList;\n\t}\n};\n\nexport default updateBookList;","const updateCartItems = (cartItems, item, idx) => {\n\n\tif (item.count === 0) {\n\t\treturn [\n\t\t\t...cartItems.slice(0, idx),\n\t\t\t...cartItems.slice(idx + 1)\n\t\t];\n\t}\n\n\tif (idx === -1) {\n\t\treturn [\n\t\t\t...cartItems,\n\t\t\titem\n\t\t];\n\t}\n\n\n\treturn [\n\t\t...cartItems.slice(0, idx),\n\t\titem,\n\t\t...cartItems.slice(idx + 1)\n\t];\n};\n\nconst updateCartItem = (book, item = {}, quantity) => {\n\n\t\t\tconst { id = book.id, \n\t\t\t\t\tcount = 0, \n\t\t\t\t\ttitle = book.title, \n\t\t\t\t\ttotal = 0 } = item;\n\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\tcount: count + quantity,\n\t\t\t\ttotal: total + quantity * book.price\n\t\t\t};\n};\n\nconst updateOrder = (state, bookId, quantity) => {\n\t\t\tconst { shoppingCart: {cartItems}, bookList: {books} } = state;\n\n\t\t\tconst book = books.find(({id}) => id === bookId);\n\t\t\tconst itemIndex = cartItems.findIndex(({id}) => id === bookId);\n\t\t\tconst item = cartItems[itemIndex];\n\n\t\t\tconst newItem = updateCartItem(book, item, quantity);\n\t\t\t\treturn {\n\t\t\t\torderTotal: 0,\n\t\t\t\tcartItems: updateCartItems(cartItems, newItem, itemIndex)\n\t\t\t};\n};\n\n\nconst updateShoppingCart = (state, action) => {\n\n\tif (state === undefined) {\n\t\treturn {\n\t\t\tcartItems: [],\n\t\t\torderTotal:  0\n\t\t};\n\t}\n\n\tswitch (action.type) {\n\t\tcase 'BOOK_ADDED_TO_CART':\n\t\t\treturn updateOrder(state, action.payload, 1);\n\t\t\t\n\t\tcase 'BOOK_REMOVED_FROM_CART':\n\t\t\treturn updateOrder(state, action.payload, -1);\n\n\t\tcase 'ALL_BOOKS_REMOVED_FROM_CART':\n\t\t\tconst item = state.shoppingCart.cartItems.find(({id}) => id === action.payload);\n\t\t\treturn updateOrder(state, action.payload, -item.count);\n\n\t\tdefault:\n\t\t\treturn state.shoppingCart;\n\t};\n};\n\n\nexport default updateShoppingCart;","import updateBookList from './book-list';\nimport updateShoppingCart from './shopping-cart';\n\n\nconst reducer = (state , action) => {\n\t\t\treturn {\n\t\t\t\tshoppingCart: updateShoppingCart(state, action),\n\t\t\t\tbookList: updateBookList(state, action)\n\t\t};\n};\n\nexport default reducer;\n\n","import { createStore, applyMiddleware } from 'redux';\nimport reducer from './reducers';\n\n\nconst logMiddleware = (store) => (dispatch) => (action) => {\n     console.log(action.type);\n     return dispatch(action);\n};\n\nconst stringMiddleware = () => (dispatch) => (action) => {\n    if (typeof action === 'string') {\n        return dispatch({\n            type: action\n        });\n    }\n    return dispatch(action);\n};\n\nconst store = createStore(reducer, applyMiddleware(\n            stringMiddleware, logMiddleware));\n\n\nexport default store;\n\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nimport store from './store';\n\nconst bookstoreService = new BookstoreService();\n\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<ErrorBoundry>\n\t\t\t<BookstoreServiceProvider value={bookstoreService}>\n\t\t\t\t<Router>\n\t\t\t\t\t<App />\n\t\t\t\t</Router>\n\t\t\t</BookstoreServiceProvider>\n\t\t</ErrorBoundry>\n\t</Provider>,\n\ndocument.getElementById('root')\n);"],"sourceRoot":""}